"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6552],{7693:(P,m,o)=>{o.d(m,{K:()=>p});var i=o(6019),e=o(2651),d=o(1173),n=o(865);let p=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[[i.ez,e.Pc,d.D]]}),l})()},3887:(P,m,o)=>{o.d(m,{L:()=>b});var i=o(4762),e=o(865),d=o(841),n=o(2651),p=o(450),l=o(6019),g=o(241);function t(s,T){if(1&s&&(e._UZ(0,"img",20),e.ALo(1,"imagen")),2&s){const _=e.oxw();e.Q6J("src",e.lcZ(1,1,_.pelicula.backdrop_path),e.LSH)}}function a(s,T){if(1&s&&(e._UZ(0,"img",21),e.ALo(1,"imagen")),2&s){const _=e.oxw();e.Q6J("src",e.lcZ(1,1,_.pelicula.poster_path),e.LSH)}}function Z(s,T){if(1&s){const _=e.EpF();e.TgZ(0,"ion-label",22),e.NdJ("click",function(){return e.CHM(_),e.oxw().oculto=5e3}),e._uU(1,"Leer m\xe1s!"),e.qZA()}}function f(s,T){if(1&s&&(e.TgZ(0,"ion-chip",23),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&s){const _=T.$implicit;e.xp6(2),e.Oqu(_.name)}}function A(s,T){1&s&&e._UZ(0,"img",27)}function M(s,T){if(1&s&&(e._UZ(0,"img",20),e.ALo(1,"imagen")),2&s){const _=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,_.profile_path),e.LSH)}}function D(s,T){if(1&s&&(e.TgZ(0,"ion-slide"),e.TgZ(1,"ion-card",24),e.YNc(2,A,1,0,"img",25),e.YNc(3,M,2,3,"img",1),e.TgZ(4,"ion-label",26),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&s){const _=T.$implicit;e.xp6(2),e.Q6J("ngIf",!_.profile_path),e.xp6(1),e.Q6J("ngIf",_.profile_path),e.xp6(2),e.Oqu(_.name)}}let b=(()=>{class s{constructor(_,c,E){this.moviesService=_,this.modalCtrl=c,this.dataLocal=E,this.pelicula={},this.oculto=150,this.actores=[],this.estrella="star-outline",this.slideOptActores={slidesPerView:3.3,freeMode:!0,spaceBetween:-5}}ngOnInit(){return(0,i.mG)(this,void 0,void 0,function*(){yield this.dataLocal.existePelicula(this.id).then(c=>this.estrella=c?"star":"star-outline"),this.moviesService.getPeliculaDetalle(this.id).subscribe(c=>{console.log(c),this.pelicula=c}),this.moviesService.getActoresPelicula(this.id).subscribe(c=>{this.actores=c.cast})})}regresar(){this.modalCtrl.dismiss()}favorito(){const _=this.dataLocal.guardarPelicula(this.pelicula);this.estrella=_?"star":"star-outline"}}return s.\u0275fac=function(_){return new(_||s)(e.Y36(d.I),e.Y36(n.IN),e.Y36(p.q))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-detalle"]],inputs:{id:"id"},decls:52,vars:15,consts:[[1,"titulo"],[3,"src",4,"ngIf"],["fixed",""],["size","4",1,"poster-detalle-sobre"],[1,"poster"],["class","poster",3,"src",4,"ngIf"],["slot","start","name","thumbs-up","color","primary"],["slot","end","color","primary"],["slot","start","name","people","color","primary"],["size","12"],["color","primary",3,"click",4,"ngIf"],["color","primary","mode","ios",4,"ngFor","ngForOf"],["mode","ios","scrollbar","ios",3,"options"],[4,"ngFor","ngForOf"],["no-border",""],["slot","start"],[3,"click"],["slot","start","name","arrow-back-outline"],["slot","end"],["slot","end",3,"name"],[3,"src"],[1,"poster",3,"src"],["color","primary",3,"click"],["color","primary","mode","ios"],[1,"card-actor"],["src","/assets/no-avatar.jpg",4,"ngIf"],[1,"actor-name"],["src","/assets/no-avatar.jpg"]],template:function(_,c){1&_&&(e.TgZ(0,"ion-content"),e.TgZ(1,"ion-label",0),e.TgZ(2,"h1"),e._uU(3),e.qZA(),e.qZA(),e.YNc(4,t,2,3,"img",1),e.TgZ(5,"ion-grid",2),e.TgZ(6,"ion-row"),e.TgZ(7,"ion-col",3),e.TgZ(8,"ion-card",4),e.YNc(9,a,2,3,"img",5),e.qZA(),e.qZA(),e.TgZ(10,"ion-col"),e.TgZ(11,"ion-item"),e._UZ(12,"ion-icon",6),e.TgZ(13,"ion-label"),e._uU(14,"Rating"),e.qZA(),e.TgZ(15,"ion-note",7),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"ion-item"),e._UZ(18,"ion-icon",8),e.TgZ(19,"ion-label"),e._uU(20,"Votos"),e.qZA(),e.TgZ(21,"ion-note",7),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"ion-grid",2),e.TgZ(24,"ion-row"),e._UZ(25,"ion-col",9),e.TgZ(26,"ion-label"),e._uU(27),e.ALo(28,"slice"),e.qZA(),e.YNc(29,Z,2,0,"ion-label",10),e.qZA(),e.TgZ(30,"ion-row"),e.TgZ(31,"ion-col",9),e.YNc(32,f,3,1,"ion-chip",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"ion-grid",2),e.TgZ(34,"ion-row"),e.TgZ(35,"ion-col",9),e.TgZ(36,"ion-label"),e._uU(37,"Actores"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"ion-slides",12),e.YNc(39,D,6,3,"ion-slide",13),e.qZA(),e.qZA(),e.TgZ(40,"ion-footer",14),e.TgZ(41,"ion-toolbar"),e.TgZ(42,"ion-buttons",15),e.TgZ(43,"ion-button",16),e.NdJ("click",function(){return c.regresar()}),e._UZ(44,"ion-icon",17),e.TgZ(45,"ion-label"),e._uU(46,"Regresar"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"ion-buttons",18),e.TgZ(48,"ion-button",16),e.NdJ("click",function(){return c.favorito()}),e._UZ(49,"ion-icon",19),e.TgZ(50,"ion-label"),e._uU(51,"Favorito"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&_&&(e.xp6(3),e.Oqu(c.pelicula.title),e.xp6(1),e.Q6J("ngIf",c.pelicula.backdrop_path),e.xp6(5),e.Q6J("ngIf",c.pelicula.poster_path),e.xp6(7),e.hij(" ",c.pelicula.vote_average," "),e.xp6(6),e.hij(" ",c.pelicula.vote_count," "),e.xp6(5),e.hij("",e.Dn7(28,11,c.pelicula.overview,0,c.oculto),"..."),e.xp6(2),e.Q6J("ngIf",5e3!==c.oculto),e.xp6(3),e.Q6J("ngForOf",c.pelicula.genres),e.xp6(6),e.Q6J("options",c.slideOptActores),e.xp6(1),e.Q6J("ngForOf",c.actores),e.xp6(10),e.Q6J("name",c.estrella))},directives:[n.W2,n.Q$,l.O5,n.jY,n.Nd,n.wI,n.PM,n.Ie,n.gu,n.uN,l.sg,n.Hr,n.fr,n.sr,n.Sm,n.YG,n.hM,n.A$],pipes:[l.OU,g.$],styles:['.poster-detalle-sobre[_ngcontent-%COMP%]{position:relative;top:-75px;left:-10px;margin-bottom:-75px}.titulo[_ngcontent-%COMP%]{width:100%;position:absolute;color:#fff;background-color:red;padding:5px 5px 40px;background:linear-gradient(to bottom,rgba(0,0,0,.65) 0%,rgba(0,0,0,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a6000000",endColorstr="#00000000",GradientType=0)}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;top:28px;left:5px}.card-actor[_ngcontent-%COMP%]{height:210px}.actor-name[_ngcontent-%COMP%]{position:relative;top:15px}']}),s})()},456:(P,m,o)=>{o.d(m,{e:()=>p});var i=o(6019),e=o(9010),d=o(2651),n=o(865);let p=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[[i.ez,e.u5,d.Pc]]}),l})()},241:(P,m,o)=>{o.d(m,{$:()=>n});var i=o(8260),e=o(865);const d=i.N.imgPath;let n=(()=>{class p{transform(g,t="w500"){return g?`${d}/${t}${g}`:"./assets/no-image-banner.jpg"}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275pipe=e.Yjl({name:"imagen",type:p,pure:!0}),p})()},1173:(P,m,o)=>{o.d(m,{D:()=>d});var i=o(6019),e=o(865);let d=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez]]}),n})()},450:(P,m,o)=>{o.d(m,{q:()=>p});var i=o(4762),e=o(865),d=o(8621),n=o(2651);let p=(()=>{class l{constructor(t,a){this.storage=t,this.toastCtrl=a,this._storage=null,this.peliculas=[],this.init(),this.cargarFavoritos()}presentToast(t){return(0,i.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:t,duration:1500})).present()})}guardarPelicula(t){let a=!1,Z="";for(const f of this.peliculas)if(f.id===t.id){a=!0;break}return a?(this.peliculas=this.peliculas.filter(f=>f.id!==t.id),Z="Removido de Favoritos"):(this.peliculas.push(t),Z="Agregada a favoritos"),this.presentToast(Z),this.storage.set("peliculas",this.peliculas),!a}cargarFavoritos(){return(0,i.mG)(this,void 0,void 0,function*(){const t=yield this.storage.get("peliculas");return this.peliculas=t||[],this.peliculas})}existePelicula(t){return(0,i.mG)(this,void 0,void 0,function*(){return t=Number(t),yield this.cargarFavoritos(),!!this.peliculas.find(Z=>Z.id===t)})}init(){return(0,i.mG)(this,void 0,void 0,function*(){const t=yield this.storage.create();this._storage=t})}}return l.\u0275fac=function(t){return new(t||l)(e.LFG(d.K),e.LFG(n.yF))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},841:(P,m,o)=>{o.d(m,{I:()=>l});var i=o(8260),e=o(865),d=o(4522);const n=i.N.url,p=i.N.apiKey;let l=(()=>{class g{constructor(a){this.http=a,this.popularesPage=0,this.generos=[]}ejecutarQuery(a){return a=n+a,a+=`&api_key=${p}&language=es&include_image_language=es`,console.log(a),this.http.get(a)}getPopulares(){return this.popularesPage++,this.ejecutarQuery(`/discover/movie?sort_by=popularity.desc&page=${this.popularesPage}`)}getFeature(){const a=new Date,Z=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();let f;const A=a.getMonth()+1;f=A<10?"0"+A:A;const M=`${a.getFullYear()}-${f}-01`,D=`${a.getFullYear()}-${f}-${Z}`;return this.ejecutarQuery(`/discover/movie?primary_release_date.gte=${M}&primary_release_date.lte=${D}`)}getPeliculaDetalle(a){return this.ejecutarQuery(`/movie/${a}?a=1`)}getActoresPelicula(a){return this.ejecutarQuery(`/movie/${a}/credits?a=1`)}buscarPeliculas(a){return this.ejecutarQuery(`/search/movie?query=${a}`)}cargarGeneros(){return new Promise(a=>{this.ejecutarQuery("/genre/movie/list?a=1").subscribe(Z=>{this.generos=Z.genres,a(this.generos)})})}}return g.\u0275fac=function(a){return new(a||g)(e.LFG(d.eN))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},6552:(P,m,o)=>{o.r(m),o.d(m,{Tab2PageModule:()=>E});var i=o(2651),e=o(6019),d=o(9010),n=o(456),p=o(8725),l=o(4762),g=o(3887),t=o(865),a=o(841),Z=o(241);function f(r,v){1&r&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.TgZ(2,"ion-col",5),t._UZ(3,"ion-spinner",6),t.qZA(),t.qZA(),t.qZA())}function A(r,v){if(1&r){const u=t.EpF();t.TgZ(0,"ion-item",8),t.NdJ("click",function(){const C=t.CHM(u).$implicit;return t.oxw(2).textoBuscar=C}),t.TgZ(1,"ion-label",9),t._uU(2),t.qZA(),t.qZA()}if(2&r){const u=v.$implicit;t.xp6(2),t.Oqu(u)}}function M(r,v){if(1&r&&(t.TgZ(0,"ion-list"),t.TgZ(1,"ion-list-header"),t.TgZ(2,"ion-label"),t._uU(3,"Ideas"),t.qZA(),t.qZA(),t.YNc(4,A,3,1,"ion-item",7),t.qZA()),2&r){const u=t.oxw();t.xp6(4),t.Q6J("ngForOf",u.ideas)}}function D(r,v){if(1&r){const u=t.EpF();t.TgZ(0,"ion-col",10),t.TgZ(1,"ion-card"),t.TgZ(2,"img",11),t.NdJ("click",function(){const C=t.CHM(u).$implicit;return t.oxw().verDetalle(C.id)}),t.ALo(3,"imagen"),t.qZA(),t.TgZ(4,"ion-card-header"),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"ion-card-content"),t.TgZ(8,"h2"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const u=v.$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,3,u.poster_path),t.LSH),t.xp6(4),t.Oqu(u.release_date),t.xp6(3),t.Oqu(u.title)}}const s=[{path:"",component:(()=>{class r{constructor(u,h){this.moviesService=u,this.modalCtrl=h,this.textoBuscar="",this.ideas=["Spiderman","Avenger","El se\xf1or de los anillos","La vida es bella"],this.peliculas=[],this.buscando=!1}buscar(u){const h=u.detail.value;if(0===h.length)return this.buscando=!1,void(this.peliculas=[]);this.buscando=!0,this.moviesService.buscarPeliculas(h).subscribe(O=>{console.log(O),this.peliculas=O.results,this.buscando=!1})}verDetalle(u){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:g.L,componentProps:{id:u}})).present()})}}return r.\u0275fac=function(u){return new(u||r)(t.Y36(a.I),t.Y36(i.IN))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-tab2"]],decls:12,vars:6,consts:[[3,"translucent"],["placeholder","Buscar Pelicula",3,"value","debounce","ionChange"],[4,"ngIf"],["fixed",""],["size","6",4,"ngFor","ngForOf"],[2,"text-align","center"],["name","crescent"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","primary"],["size","6"],[3,"src","click"]],template:function(u,h){1&u&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-title"),t._uU(3," Buscar pel\xedcula "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-toolbar"),t.TgZ(5,"ion-searchbar",1),t.NdJ("ionChange",function(C){return h.buscar(C)}),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.YNc(7,f,4,0,"ion-grid",2),t.YNc(8,M,5,1,"ion-list",2),t.TgZ(9,"ion-grid",3),t.TgZ(10,"ion-row"),t.YNc(11,D,10,5,"ion-col",4),t.qZA(),t.qZA(),t.qZA()),2&u&&(t.Q6J("translucent",!0),t.xp6(5),t.Q6J("value",h.textoBuscar)("debounce",700),t.xp6(2),t.Q6J("ngIf",h.buscando),t.xp6(1),t.Q6J("ngIf",0===h.peliculas.length),t.xp6(3),t.Q6J("ngForOf",h.peliculas))},directives:[i.Gu,i.sr,i.wd,i.VI,i.j9,i.W2,e.O5,i.jY,i.Nd,e.sg,i.wI,i.PQ,i.q_,i.yh,i.Q$,i.Ie,i.PM,i.Zi,i.tO,i.FN],pipes:[Z.$],styles:[""]}),r})()}];let T=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.Bz.forChild(s)],p.Bz]}),r})();var _=o(1173),c=o(7693);let E=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[i.Pc,e.ez,d.u5,n.e,T,_.D,c.K]]}),r})()}}]);