"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[399],{7693:(P,d,t)=>{t.d(d,{K:()=>g});var u=t(6019),e=t(2651),n=t(1173),i=t(865);let g=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[u.ez,e.Pc,n.D]]}),s})()},3887:(P,d,t)=>{t.d(d,{L:()=>D});var u=t(4762),e=t(865),n=t(841),i=t(2651),g=t(450),s=t(6019),p=t(241);function r(l,h){if(1&l&&(e._UZ(0,"img",20),e.ALo(1,"imagen")),2&l){const _=e.oxw();e.Q6J("src",e.lcZ(1,1,_.pelicula.backdrop_path),e.LSH)}}function o(l,h){if(1&l&&(e._UZ(0,"img",21),e.ALo(1,"imagen")),2&l){const _=e.oxw();e.Q6J("src",e.lcZ(1,1,_.pelicula.poster_path),e.LSH)}}function m(l,h){if(1&l){const _=e.EpF();e.TgZ(0,"ion-label",22),e.NdJ("click",function(){return e.CHM(_),e.oxw().oculto=5e3}),e._uU(1,"Leer m\xe1s!"),e.qZA()}}function c(l,h){if(1&l&&(e.TgZ(0,"ion-chip",23),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.qZA()),2&l){const _=h.$implicit;e.xp6(2),e.Oqu(_.name)}}function v(l,h){1&l&&e._UZ(0,"img",27)}function Z(l,h){if(1&l&&(e._UZ(0,"img",20),e.ALo(1,"imagen")),2&l){const _=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,_.profile_path),e.LSH)}}function E(l,h){if(1&l&&(e.TgZ(0,"ion-slide"),e.TgZ(1,"ion-card",24),e.YNc(2,v,1,0,"img",25),e.YNc(3,Z,2,3,"img",1),e.TgZ(4,"ion-label",26),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&l){const _=h.$implicit;e.xp6(2),e.Q6J("ngIf",!_.profile_path),e.xp6(1),e.Q6J("ngIf",_.profile_path),e.xp6(2),e.Oqu(_.name)}}let D=(()=>{class l{constructor(_,a,f){this.moviesService=_,this.modalCtrl=a,this.dataLocal=f,this.pelicula={},this.oculto=150,this.actores=[],this.estrella="star-outline",this.slideOptActores={slidesPerView:3.3,freeMode:!0,spaceBetween:-5}}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){yield this.dataLocal.existePelicula(this.id).then(a=>this.estrella=a?"star":"star-outline"),this.moviesService.getPeliculaDetalle(this.id).subscribe(a=>{console.log(a),this.pelicula=a}),this.moviesService.getActoresPelicula(this.id).subscribe(a=>{this.actores=a.cast})})}regresar(){this.modalCtrl.dismiss()}favorito(){const _=this.dataLocal.guardarPelicula(this.pelicula);this.estrella=_?"star":"star-outline"}}return l.\u0275fac=function(_){return new(_||l)(e.Y36(n.I),e.Y36(i.IN),e.Y36(g.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-detalle"]],inputs:{id:"id"},decls:52,vars:15,consts:[[1,"titulo"],[3,"src",4,"ngIf"],["fixed",""],["size","4",1,"poster-detalle-sobre"],[1,"poster"],["class","poster",3,"src",4,"ngIf"],["slot","start","name","thumbs-up","color","primary"],["slot","end","color","primary"],["slot","start","name","people","color","primary"],["size","12"],["color","primary",3,"click",4,"ngIf"],["color","primary","mode","ios",4,"ngFor","ngForOf"],["mode","ios","scrollbar","ios",3,"options"],[4,"ngFor","ngForOf"],["no-border",""],["slot","start"],[3,"click"],["slot","start","name","arrow-back-outline"],["slot","end"],["slot","end",3,"name"],[3,"src"],[1,"poster",3,"src"],["color","primary",3,"click"],["color","primary","mode","ios"],[1,"card-actor"],["src","/assets/no-avatar.jpg",4,"ngIf"],[1,"actor-name"],["src","/assets/no-avatar.jpg"]],template:function(_,a){1&_&&(e.TgZ(0,"ion-content"),e.TgZ(1,"ion-label",0),e.TgZ(2,"h1"),e._uU(3),e.qZA(),e.qZA(),e.YNc(4,r,2,3,"img",1),e.TgZ(5,"ion-grid",2),e.TgZ(6,"ion-row"),e.TgZ(7,"ion-col",3),e.TgZ(8,"ion-card",4),e.YNc(9,o,2,3,"img",5),e.qZA(),e.qZA(),e.TgZ(10,"ion-col"),e.TgZ(11,"ion-item"),e._UZ(12,"ion-icon",6),e.TgZ(13,"ion-label"),e._uU(14,"Rating"),e.qZA(),e.TgZ(15,"ion-note",7),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"ion-item"),e._UZ(18,"ion-icon",8),e.TgZ(19,"ion-label"),e._uU(20,"Votos"),e.qZA(),e.TgZ(21,"ion-note",7),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"ion-grid",2),e.TgZ(24,"ion-row"),e._UZ(25,"ion-col",9),e.TgZ(26,"ion-label"),e._uU(27),e.ALo(28,"slice"),e.qZA(),e.YNc(29,m,2,0,"ion-label",10),e.qZA(),e.TgZ(30,"ion-row"),e.TgZ(31,"ion-col",9),e.YNc(32,c,3,1,"ion-chip",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"ion-grid",2),e.TgZ(34,"ion-row"),e.TgZ(35,"ion-col",9),e.TgZ(36,"ion-label"),e._uU(37,"Actores"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"ion-slides",12),e.YNc(39,E,6,3,"ion-slide",13),e.qZA(),e.qZA(),e.TgZ(40,"ion-footer",14),e.TgZ(41,"ion-toolbar"),e.TgZ(42,"ion-buttons",15),e.TgZ(43,"ion-button",16),e.NdJ("click",function(){return a.regresar()}),e._UZ(44,"ion-icon",17),e.TgZ(45,"ion-label"),e._uU(46,"Regresar"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"ion-buttons",18),e.TgZ(48,"ion-button",16),e.NdJ("click",function(){return a.favorito()}),e._UZ(49,"ion-icon",19),e.TgZ(50,"ion-label"),e._uU(51,"Favorito"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&_&&(e.xp6(3),e.Oqu(a.pelicula.title),e.xp6(1),e.Q6J("ngIf",a.pelicula.backdrop_path),e.xp6(5),e.Q6J("ngIf",a.pelicula.poster_path),e.xp6(7),e.hij(" ",a.pelicula.vote_average," "),e.xp6(6),e.hij(" ",a.pelicula.vote_count," "),e.xp6(5),e.hij("",e.Dn7(28,11,a.pelicula.overview,0,a.oculto),"..."),e.xp6(2),e.Q6J("ngIf",5e3!==a.oculto),e.xp6(3),e.Q6J("ngForOf",a.pelicula.genres),e.xp6(6),e.Q6J("options",a.slideOptActores),e.xp6(1),e.Q6J("ngForOf",a.actores),e.xp6(10),e.Q6J("name",a.estrella))},directives:[i.W2,i.Q$,s.O5,i.jY,i.Nd,i.wI,i.PM,i.Ie,i.gu,i.uN,s.sg,i.Hr,i.fr,i.sr,i.Sm,i.YG,i.hM,i.A$],pipes:[s.OU,p.$],styles:['.poster-detalle-sobre[_ngcontent-%COMP%]{position:relative;top:-75px;left:-10px;margin-bottom:-75px}.titulo[_ngcontent-%COMP%]{width:100%;position:absolute;color:#fff;background-color:red;padding:5px 5px 40px;background:linear-gradient(to bottom,rgba(0,0,0,.65) 0%,rgba(0,0,0,0) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#a6000000",endColorstr="#00000000",GradientType=0)}.titulo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;top:28px;left:5px}.card-actor[_ngcontent-%COMP%]{height:210px}.actor-name[_ngcontent-%COMP%]{position:relative;top:15px}']}),l})()},7921:(P,d,t)=>{t.d(d,{G:()=>r});var u=t(4762),e=t(3887),n=t(865),i=t(2651),g=t(6019),s=t(241);function p(o,m){if(1&o){const c=n.EpF();n.TgZ(0,"ion-slide"),n.TgZ(1,"ion-card",2),n.NdJ("click",function(){const E=n.CHM(c).$implicit;return n.oxw().verDetalle(E.id)}),n._UZ(2,"img",3),n.ALo(3,"imagen"),n.qZA(),n.qZA()}if(2&o){const c=m.$implicit;n.xp6(2),n.Q6J("src",n.lcZ(3,1,c.poster_path),n.LSH)}}let r=(()=>{class o{constructor(c){this.modalCtrl=c,this.peliculas=[],this.slideOpts={slidesPerView:3.3,freeMode:!0}}ngOnInit(){}verDetalle(c){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:e.L,componentProps:{id:c}})).present()})}}return o.\u0275fac=function(c){return new(c||o)(n.Y36(i.IN))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-slideshow-poster"]],inputs:{peliculas:"peliculas"},decls:2,vars:2,consts:[[3,"options"],[4,"ngFor","ngForOf"],[3,"click"],[1,"poster",3,"src"]],template:function(c,v){1&c&&(n.TgZ(0,"ion-slides",0),n.YNc(1,p,4,3,"ion-slide",1),n.qZA()),2&c&&(n.Q6J("options",v.slideOpts),n.xp6(1),n.Q6J("ngForOf",v.peliculas))},directives:[i.Hr,g.sg,i.A$,i.PM],pipes:[s.$],styles:[""]}),o})()},456:(P,d,t)=>{t.d(d,{e:()=>g});var u=t(6019),e=t(9010),n=t(2651),i=t(865);let g=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[u.ez,e.u5,n.Pc]]}),s})()},241:(P,d,t)=>{t.d(d,{$:()=>i});var u=t(8260),e=t(865);const n=u.N.imgPath;let i=(()=>{class g{transform(p,r="w500"){return p?`${n}/${r}${p}`:"./assets/no-image-banner.jpg"}}return g.\u0275fac=function(p){return new(p||g)},g.\u0275pipe=e.Yjl({name:"imagen",type:g,pure:!0}),g})()},1173:(P,d,t)=>{t.d(d,{D:()=>n});var u=t(6019),e=t(865);let n=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez]]}),i})()},450:(P,d,t)=>{t.d(d,{q:()=>g});var u=t(4762),e=t(865),n=t(8621),i=t(2651);let g=(()=>{class s{constructor(r,o){this.storage=r,this.toastCtrl=o,this._storage=null,this.peliculas=[],this.init(),this.cargarFavoritos()}presentToast(r){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:r,duration:1500})).present()})}guardarPelicula(r){let o=!1,m="";for(const c of this.peliculas)if(c.id===r.id){o=!0;break}return o?(this.peliculas=this.peliculas.filter(c=>c.id!==r.id),m="Removido de Favoritos"):(this.peliculas.push(r),m="Agregada a favoritos"),this.presentToast(m),this.storage.set("peliculas",this.peliculas),!o}cargarFavoritos(){return(0,u.mG)(this,void 0,void 0,function*(){const r=yield this.storage.get("peliculas");return this.peliculas=r||[],this.peliculas})}existePelicula(r){return(0,u.mG)(this,void 0,void 0,function*(){return r=Number(r),yield this.cargarFavoritos(),!!this.peliculas.find(m=>m.id===r)})}init(){return(0,u.mG)(this,void 0,void 0,function*(){const r=yield this.storage.create();this._storage=r})}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(n.K),e.LFG(i.yF))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},841:(P,d,t)=>{t.d(d,{I:()=>s});var u=t(8260),e=t(865),n=t(4522);const i=u.N.url,g=u.N.apiKey;let s=(()=>{class p{constructor(o){this.http=o,this.popularesPage=0,this.generos=[]}ejecutarQuery(o){return o=i+o,o+=`&api_key=${g}&language=es&include_image_language=es`,console.log(o),this.http.get(o)}getPopulares(){return this.popularesPage++,this.ejecutarQuery(`/discover/movie?sort_by=popularity.desc&page=${this.popularesPage}`)}getFeature(){const o=new Date,m=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();let c;const v=o.getMonth()+1;c=v<10?"0"+v:v;const Z=`${o.getFullYear()}-${c}-01`,E=`${o.getFullYear()}-${c}-${m}`;return this.ejecutarQuery(`/discover/movie?primary_release_date.gte=${Z}&primary_release_date.lte=${E}`)}getPeliculaDetalle(o){return this.ejecutarQuery(`/movie/${o}?a=1`)}getActoresPelicula(o){return this.ejecutarQuery(`/movie/${o}/credits?a=1`)}buscarPeliculas(o){return this.ejecutarQuery(`/search/movie?query=${o}`)}cargarGeneros(){return new Promise(o=>{this.ejecutarQuery("/genre/movie/list?a=1").subscribe(m=>{this.generos=m.genres,o(this.generos)})})}}return p.\u0275fac=function(o){return new(o||p)(e.LFG(n.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);